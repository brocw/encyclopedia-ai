<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EncyclopediaAI</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Header -->
  <header class="wiki-header">
    <div class="wiki-header-left">
      <div class="wiki-logo">
        <div class="wiki-logo-image">AI</div>
        <div class="wiki-logo-text">
          <strong>EncyclopediaAI</strong>
          <small>The AI-Generated Encyclopedia</small>
        </div>
      </div>
    </div>
    <div class="wiki-header-right">
      <div class="wiki-search">
        <input type="text" id="topicInput" placeholder="Search EncyclopediaAI...">
        <label for="maxRoundsInput" class="rounds-label">Rounds:</label>
        <input type="number" id="maxRoundsInput" min="1" max="10" value="3" class="rounds-input">
        <button id="startButton">Generate</button>
      </div>
    </div>
  </header>

  <!-- Main layout -->
  <div class="wiki-layout">
    <!-- Sidebar -->
    <nav class="wiki-sidebar">
      <div class="sidebar-section">
        <h3>Navigation</h3>
        <ul>
          <li><a href="#">Main page</a></li>
          <li><a href="#">Random article</a></li>
          <li><a href="#">About</a></li>
        </ul>
      </div>
      <div class="sidebar-section">
        <h3>Contents</h3>
        <div id="tableOfContents">
          <p class="toc-placeholder">Generate an article to see contents.</p>
        </div>
      </div>
      <div class="sidebar-section">
        <h3>Tools</h3>
        <ul>
          <li><a href="#round-timeline">Quality rounds</a></li>
          <li><a href="#references-section">References</a></li>
          <li><a href="#seealso-section">See also</a></li>
        </ul>
      </div>
    </nav>

    <!-- Content area -->
    <main class="wiki-content">
      <div id="loading" class="hidden">
        <div id="loopStatus" class="loop-status">
          <div class="loop-phase" id="phase-generate"><span class="agent-status pending"></span> Generating article</div>
          <div class="loop-phase" id="phase-evaluate"><span class="agent-status pending"></span> Evaluating quality</div>
          <div class="loop-phase" id="phase-plan"><span class="agent-status pending"></span> Planning revision</div>
          <div class="loop-phase" id="phase-revise"><span class="agent-status pending"></span> Revising article</div>
          <div class="loop-phase" id="phase-metadata"><span class="agent-status pending"></span> Generating metadata</div>
        </div>
        <div id="roundCounter" class="round-counter"></div>
      </div>

      <div id="mainContent" class="hidden">
        <h1 id="topic" class="wiki-article-title"></h1>

        <!-- Convergence badge -->
        <div id="convergenceBadge" class="convergence-badge hidden"></div>

        <!-- Infobox (floated right, Wikipedia-style) -->
        <div id="infobox" class="wiki-infobox hidden"></div>

        <div id="article" class="wiki-article-body"></div>

        <!-- Round timeline -->
        <div id="round-timeline" class="wiki-section hidden">
          <h2 class="wiki-section-heading">Quality Rounds</h2>
          <div id="roundTimeline" class="round-timeline"></div>
        </div>

        <!-- See Also section -->
        <div id="seealso-section" class="wiki-section hidden">
          <h2 class="wiki-section-heading">See also</h2>
          <div id="seeAlso" class="wiki-section-body"></div>
        </div>

        <!-- References section -->
        <div id="references-section" class="wiki-section hidden">
          <h2 class="wiki-section-heading">References</h2>
          <div id="references" class="wiki-section-body"></div>
        </div>

        <!-- Category footer -->
        <div class="wiki-categories">
          <span class="wiki-categories-label">Categories:</span>
          <span id="articleCategories">AI Generated Article</span>
        </div>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer class="wiki-footer">
    <p>Content generated by AI. This is not a real encyclopedia.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js"></script>
  <script src="script.js"></script>
</body>

</html>
